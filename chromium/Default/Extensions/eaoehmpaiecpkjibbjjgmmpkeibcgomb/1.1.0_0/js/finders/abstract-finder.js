function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}var AbstractFinder=function(){"use strict";function e(){_classCallCheck(this,e),this.videoFormats=["mp4","mov","flv","webm","3gp","ogg","m4a","mp3","wav","bin"]}return _createClass(e,[{key:"escapeRegExp",value:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"getVideoTypeFromUrl",value:function(n){var t=this,r=null;return this.videoFormats.some(function(e){if(new RegExp(t.escapeRegExp("."+e)).test(n))return r=e,!0}),r}},{key:"sendMessage",value:function(e,n){chrome.runtime.sendMessage(e,n)}},{key:"getAbsolutePath",value:function(e){var n=window.location.protocol;if(new RegExp("^"+n+"//").test(e))return e;if(new RegExp("^//").test(e))return n+e;var t=window.location.href.split("/"),r=e.split("/");t.pop();for(var a=0;a<r.length;a++)"."!=r[a]&&(".."==r[a]?t.pop():t.push(r[a]));return t.join("/")}},{key:"search",value:function(){}},{key:"addVideo",value:function(e){var n=this;e.forEach(function(e){e.url=n.getAbsolutePath(e.url)}),this.sendMessage({message:"add-video-links",videoLinks:e})}},{key:"run",value:function(){this.search()}}]),e}();